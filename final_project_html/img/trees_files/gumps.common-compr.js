var myAccountTimer=null;$(document).ready(function(){$("li.myaccount").hover(function(){$(this).find(".h-account").show()},function(){$(this).find(".h-account").hide()});window.widget={};window.widget.init=function(){$(window).unbind("scroll.widget");$widget=$("#widget");if(!$widget.length){return}var b=$widget.offset();var e=$widget.height();var f=$("#workingTemplate").height();var c=$(".prodcat-menu").height();var d=15;$(window).bind("scroll.widget",function(){if($(window).scrollTop()>b.top){var g=$(window).scrollTop()-b.top+d;if(g+e+c<=f){$widget.stop().animate({marginTop:g})}}else{$widget.stop().animate({marginTop:20})}})};window.widget.init();if(!$("div.checkout").length&&!$("div.addressbook").length){var a=$(".country-select");a.each(function(){var b=jQuery(this).parents("form").find(".state-select");initCountryState(this,b)})}$("#WFSimpleSearch_NameOrID").each(function(){var b=this,c=false,d;$(b.form).submit(function(f){var g=$(b);if(b.value==b.defaultValue||c){f.preventDefault();clearTimeout(d);d=setTimeout(function(){g.css({borderColor:""})},2000);g.css({borderColor:"red"})}});$(b).focusout(function(){c=!this.value})});$("#signupformpopup").submit(function(i){var h=this.elements||{},f=$(this),c=$(h.emailAddress),d=$.trim(c.val()),b=f.find(".error").hide(),g=$(h.emailName).val();if(c.length){c.css({borderColor:""});if(c[0].defaultValue==d){c.css({borderColor:"red"})}else{if(g.length!=0){f.parent().hide().next().show()}else{if(/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i.test(d)){if(this.action){$.ajax({url:this.action,type:"post",data:f.serialize(),dataType:"json",error:function(){b.text("Connection issue occured!").show()},success:function(j){var e=j&&j.head;if(e.status=="ERROR"){c.css({borderColor:"red"});b.text(j.message||"Invalid Email").show()}else{f.parent().hide().next().show();if($("#cmxEnabled").val()){if(typeof window.setCoremetricsConversionTag=="function"){window.setCoremetricsConversionTag("cmSignInPopupDone")}cmCreateRegistrationTag(d,d)}}}})}}else{c.css({borderColor:"red"});b.text("Invalid Email").show()}}}}i.preventDefault()});$("#emailsignupPopup").find(".popup-overlay").click(function(){$(this).trigger("closePopup")})});function initPopupCountryState(){jQuery("div[id$=Popup]").each(function(){var a=jQuery(this);initCountryState(a.find(".country-select"),a.find(".state-select"))})}function initCountryState(b,a){jQuery(b).country({firstLineText:"- Select One -",provinceField:a,provinceFieldHolder:a.parents(".wrap:first"),replaceProvinceField:true,styledSelects:true}).countryProvince(jQuery(b).attr("state"))}function showHide(b,a){$("."+b+"_long").each(function(){if(a=="true"){$(this).hide("slow")}else{$(this).show("slow")}});$("."+b+"_short").each(function(){if(a=="true"){$(this).show("slow")}else{$(this).hide("slow")}})}function showDialogTopPopup(a){if(a.length>0){jQuery("#messengerPopupInner").html("").html(a);jQuery("#messengerPopup").trigger("showPopup")}}function setHashFromUrl(a){if(/\/\/(?:[^\/]+?\/){2}(.+?)(?:[?&;#]|$)/.test(a)){location.hash="~"+RegExp.$1.replace(/\//g,"|")}else{if(/(\/\/[^\/]+?\/.+?)(?:[?&;#]|$)/.test(a)){location.hash="~"}}}function getHashFromUrl(a){if(/\/\/(?:[^\/]+?\/){2}(.+?)(?:[?&;#]|$)/.test(a)){return"~"+RegExp.$1.replace(/\//g,"|")}else{if(/(\/\/[^\/]+?\/.+?)(?:[?&;#]|$)/.test(a)){return"~"}}}(function(){var d={"google.com":"Google","search.yahoo.com":"Yahoo","bing.com":"Bing"},e="Referral",f="",c,a;String.prototype.startedWith=function(g){return this.indexOf(g)===0};if(document.referrer){c=document.referrer;if(/[&?]cm_mmc=([^&]+?)-_-/i.test(c)){f=RegExp.$1}else{if(!new RegExp("^https?://"+document.domain).test(c)){if(/^https?:\/\/(?:www\.)?([^\/]+)/.test(c)){a=RegExp.$1;for(var b in d){if(a.startedWith(b)){f=d[b];break}}}}}if(f){document.cookie=e+"="+f+";path=/;expires="+new Date(new Date().valueOf()+30*24*3600*1000).toUTCString()}}})();(function(a){a.extend({priceFormatter:{toNumber:function(c){var b=0;if(/^\s*\$?(\d+\.\d+)\$?\s*$/.test(c)){b=parseFloat(RegExp.$1)}return b}}})})(jQuery);(function(a){a.cookieManager=function(c,d,k){var e;if(c){if(d===e){return new RegExp("\\b"+c+"=([^;]*)").test(document.cookie)?decodeURIComponent(RegExp.$1):e}else{if(d===null){document.cookie=c+"=; expires="+new Date(new Date().valueOf()-24*3600*1000).toUTCString()+(k&&k.path?("; path="+k.path):"")}else{var b,j,h=[c,"=",encodeURIComponent(d)],f=["expires","path","domain","secure"];if(k){for(var g in f){b="";j=f[g];if(j in k){if(j=="expires"){if(k[j] instanceof Date){b="="+k[j].toUTCString()}else{if(isFinite(parseInt(k[j]))){b="="+new Date(new Date().valueOf()+k[j]*24*3600*1000).toUTCString()}}}else{if(j!="secure"){b="="+k[j]}}h.push("; "+j+b)}}}document.cookie=h.join("")}}}return true}})(jQuery);(function(c){var d={maxCount:10,inputSelector:"> input[type=text][name$=_Quantity]"};var a=/iPad|iPhone/.test(navigator.userAgent);var b=function(f,i,h,e){var h=h||d.maxCount,g="quantitySelect "+(e||"");return('<select name="'+f+'" class="'+g+'">'+c.map(new Array(i?h:h+1),function(k,j){return'<option value="'+(i+j)+'">'+(i+j)+"</option>"}).join("")+"</select>")};c.fn.replaceInputToSelect=function(f){var e=c.extend({},d,f);if(a){this.find(e.inputSelector).each(function(){var g=parseInt(this.value)||0,h=g>1?1:g;if("start" in e){h=e.start}c(b(this.name,h,e.maxCount)).val(g).replaceAll(this)})}return this};if(a){c.getReplaceHtmlOnIpad=b}})(jQuery);